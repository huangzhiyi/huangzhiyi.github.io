<!doctype html><html lang=zh><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Part 6 - 容器的应用1 | 《云数据中心基础》Rockylinux8版 | Heis</title><meta name=generator content="Hugo Eureka 0.8.4"><link rel=stylesheet href=/css/eureka.min.css><script defer src=/js/eureka.min.js></script><script src=/static/js/jquery-3.6.0.min.js></script><script src=/static/js/heis.js?230321></script><link rel=stylesheet href=/static/css/heis.css?230321 media=all onload="this.media='all';this.onload=null" crossorigin><link rel=stylesheet href=/static/css/print.css?230413 media=print crossorigin><link rel=stylesheet href=/static/css/highlight-css/solarized-light.min.css media=print onload="this.media='all';this.onload=null" crossorigin><script defer src=/static/js/highlight.min.js crossorigin></script><script defer src=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js integrity="sha256-uNYoXefWRqv+PsIF/OflNmwtKM4lStn9yrz2gVl6ymo=" crossorigin></script><script defer src=/static/js/highlightjs-line-numbers.min.js></script><link rel=icon type=image/png sizes=32x32 href=/images/icon_huddfe7d1590fd89155f46b33625956ea5_4357_32x32_fill_box_center_2.png><link rel=apple-touch-icon sizes=180x180 href=/images/icon_huddfe7d1590fd89155f46b33625956ea5_4357_180x180_fill_box_center_2.png><meta name=description content="容器部署和管理"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"系列文章","item":"/docs/"},{"@type":"ListItem","position":2,"name":"《云数据中心基础》Rockylinux8版","item":"/docs/cloud-data-center-v2/"},{"@type":"ListItem","position":3,"name":"Part 6 - 容器的应用1","item":"/docs/cloud-data-center-v2/cloud-data-center-06/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"/docs/cloud-data-center-v2/cloud-data-center-06/"},"headline":"Part 6 - 容器的应用1 | 《云数据中心基础》Rockylinux8版 | Heis","datePublished":"2023-08-27T00:44:00+08:00","dateModified":"2023-08-27T00:44:00+08:00","wordCount":2766,"author":{"@type":"Person","name":["qzm","heis"]},"publisher":{"@type":"Person","name":"C. Wang","logo":{"@type":"ImageObject","url":"/images/icon.png"}},"description":"容器部署和管理"}</script><meta property="og:title" content="Part 6 - 容器的应用1 | 《云数据中心基础》Rockylinux8版 | Heis"><meta property="og:type" content="article"><meta property="og:image" content="/images/icon.png"><meta property="og:url" content="/docs/cloud-data-center-v2/cloud-data-center-06/"><meta property="og:description" content="容器部署和管理"><meta property="og:locale" content="zh"><meta property="og:site_name" content="Heis"><meta property="article:published_time" content="2023-08-27T00:44:00+08:00"><meta property="article:modified_time" content="2023-08-27T00:44:00+08:00"><meta property="article:section" content="docs"><meta property="article:tag" content="数据中心"><meta property="article:tag" content="云计算"><meta property="article:tag" content="容器"><meta property="og:see_also" content="/docs/cloud-data-center-v2/cloud-data-center-07/"><meta property="og:see_also" content="/docs/cloud-data-center-v2/cloud-data-center-08/"><meta property="og:see_also" content="/docs/cloud-data-center-v2/cloud-data-center-05/"><meta property="og:see_also" content="/docs/cloud-data-center-v2/cloud-data-center-01/"><meta property="og:see_also" content="/docs/cloud-data-center-v2/cloud-data-center-02/"><meta property="og:see_also" content="/docs/cloud-data-center-v2/cloud-data-center-03/"><script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?f58b6a2675cf52000232edb4d109eccc";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script><body class="flex flex-col min-h-screen"><header id=headerctn class="fixed flex items-center w-full pl-scrollbar z-50 bg-secondary-bg shadow-sm"><div class="w-full max-w-screen-xl mx-auto"><script>let storageColorScheme=localStorage.getItem("lightDarkMode")
if(((storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches)||storageColorScheme=="Dark"){document.getElementsByTagName('html')[0].classList.add('dark')}</script><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><a href=/ class="mr-6 text-primary-text text-xl font-bold">Heis</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="md:flex md:h-16 text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0"><a href=/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">文章</a>
<a href=/docs/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item mr-4">系列</a></div><div class=flex><div class="relative pt-4 md:pt-0"><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-adjust"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka" name=Light>浅色</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>深色</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>自动</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>let element=document.getElementById('lightDarkMode')
if(storageColorScheme==null||storageColorScheme=='Auto'){document.addEventListener('DOMContentLoaded',()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change',switchDarkMode)})}else if(storageColorScheme=="Light"){element.firstElementChild.classList.remove('fa-adjust')
element.firstElementChild.setAttribute("data-icon",'sun')
element.firstElementChild.classList.add('fa-sun')}else if(storageColorScheme=="Dark"){element.firstElementChild.classList.remove('fa-adjust')
element.firstElementChild.setAttribute("data-icon",'moon')
element.firstElementChild.classList.add('fa-moon')}
document.addEventListener('DOMContentLoaded',()=>{getcolorscheme();switchBurger();});</script></div></header><main class="flex-grow pt-16"><div class=pl-scrollbar><div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto"><div id=doc-container class=lg:pt-12><div class="flex flex-col md:flex-row bg-secondary-bg rounded"><div class="md:w-1/4 lg:w-1/5 border-r"><div class="sticky top-16 pt-6"><div id=sidebar-title class="md:hidden mx-4 px-2 pt-4 pb-2 md:border-b text-tertiary-text md:text-primary-text"><span class=font-semibold>目录</span>
<i class="fas fa-caret-right ml-1"></i></div><div id=sidebar-toc class="hidden md:block overflow-y-auto mx-6 md:mx-0 pr-6 pt-2 md:max-h-doc-sidebar bg-primary-bg md:bg-transparent"><div class="flex flex-wrap ml-4 -mr-2 p-2 bg-secondary-bg md:bg-primary-bg rounded"><a class=hover:text-eureka href=/docs/cloud-data-center-v2/>《云数据中心基础》Rockylinux8版</a></div><ul class=pl-6><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-01/>Part 1 - 虚拟化软件安装 Linux 服务器版本</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-02/>Part 2 - Linux 虚拟化常用命令</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-03/>Part 3 - 服务器虚拟化部署</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-04/>Part 4 - 云操作系统的应用</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-05/>Part 5 - 容器部署和管理</a></div></li><li class=py-2><div><a class="text-eureka hover:text-eureka" href=/docs/cloud-data-center-v2/cloud-data-center-06/>Part 6 - 容器的应用1</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-07/>Part 7 - 容器的应用2</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-08/>Part 8 - 容器的应用3</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/cloud-data-center-commands/>常用命令</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/virtualbox-settings/>VirtualBox 操作汇总</a></div></li><li class=py-2><div><a class=hover:text-eureka href=/docs/cloud-data-center-v2/vmware-settings/>VMWare Workstation 操作汇总</a></div></li></ul></div></div></div><div class="w-full md:w-3/4 lg:w-4/5 pb-8 pt-2 md:pt-8"><div id=doc-tit class="w-full lg:w-3/4 pl-6 ml-0 mr-auto"><h1 class="font-bold text-3xl text-primary-text">Part 6 - 容器的应用1</h1><div class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text"><div class="mr-6 my-2"><i class="fas fa-calendar mr-1"></i><span>2023-08-27</span></div><div class="mr-6 my-2"><i class="fas fa-clock mr-1"></i><span>6分钟阅读时长</span></div><div class="mr-6 my-2"><i class="fas fa-folder mr-1"></i><a href=/categories/clouddc/ class=hover:text-eureka>clouddc</a></div></div></div><div class=flex><div class="w-full lg:w-3/4 px-6"><div class=content><h2 id=版本>【版本】</h2><p>当前版本号<code>v20241121</code></p><div class=tbl-start></div><table><thead><tr><th>版本</th><th>修改说明</th></tr></thead><tbody><tr><td>v20241121</td><td>修正部分命令，避免引起歧义</td></tr><tr><td>v20241115</td><td>修正部分命令，避免引起歧义</td></tr><tr><td>v20231127</td><td>修正虚拟机名字</td></tr><tr><td>v20231104</td><td>修正修改主机名的命令</td></tr><tr><td>v20230827</td><td>初始化版本</td></tr></tbody></table><div class=tbl-end style=height:10px></div><h2 id=任务61-导入-docker-hello-world-镜像并启动>任务6.1 导入 Docker hello-world 镜像并启动</h2><h2 id=任务目的>【任务目的】</h2><ul><li>在理解Docker容器化平台</li><li>掌握Docker容器化平台中有关容器管理的常用命令</li></ul><h2 id=任务环境>【任务环境】</h2><ul><li>RockyLinux</li></ul><h2 id=任务资源>【任务资源】</h2><ul><li>hello-world.tar 该文件是一个 Docker 镜像，镜像会打印欢迎信息。</li></ul><h2 id=任务说明>【任务说明】</h2><ul><li><ol><li>可以离线完成本次任务。（任务用到的hello-world镜像已经拉下到到本地，不需要用docker pull hello-world命令）</li></ol></li><li><ol start=2><li>hello-world镜像说明</li></ol><ul><li>2.1 hello-world镜像是Docker Hub官方提供的镜像（Docker Hub 是一个公共的 Docker 镜像存储器，其中包含了大量的镜像供用户使用。其中之一就是 hello-world 镜像）。</li><li>2.2 hello-world 镜像是 Docker 团队提供的一个非常简单的示例镜像，用于验证 Docker 是否正确安装和运行。它仅包含一个很小的容器，该容器在启动后会输出一条欢迎消息。</li><li>2.3 镜像详情<ul><li>镜像名称：hello-world</li><li>镜像标签：latest</li><li>镜像大小：非常小，仅几百字节</li><li>镜像来源：由 Docker 团队维护并托管在 Docker Hub 上</li><li>使用 hello-world 镜像非常简单。只需执行以下命令即可：<code>docker run hello-world</code></li><li>执行上述命令后，Docker 将从 Docker Hub 下载 hello-world 镜像（如果本地不存在），然后在容器中启动该镜像。容器启动后，将输出以下消息：</li></ul></li></ul></li></ul><pre><code>Hello from Docker!
This message shows that your installation appears to be working correctly.
</code></pre><blockquote><p>这条消息表明 Docker 安装和运行正常。如果你能看到这条消息，那么你的 Docker 环境已经成功配置。
需要注意的是，hello-world 镜像不会一直运行，它只是在容器启动后输出一条消息，然后容器就会自动停止。这是因为 hello-world 镜像只用于验证 Docker 的安装和运行情况，而不是用于实际的应用程序。</p></blockquote><h2 id=任务步骤>【任务步骤】</h2><ol><li><p>运行<code>docker</code>虚拟机，使用 root 用户登录。</p></li><li><p>SSH客户端重新登陆，提示符#左侧提示如下，下面的主机名作为任务水印，在摘图时要把自已的主机名也包含在内。</p></li></ol><pre><code>[root@999qzm ~]#
</code></pre><ol start=3><li>查看docker的守护进程Daemon是否处于运行(active)状态</li></ol><pre><code>systemctl status docker 
</code></pre><ol start=4><li>列出docker本地镜像</li></ol><pre><code>docker images
</code></pre><ul><li>默认情况下是没有镜像的。</li></ul><pre><code>REPOSITORY   TAG       IMAGE ID   CREATED   SIZE
</code></pre><div class=tbl-start></div><table><thead><tr><th>列</th><th>说明</th></tr></thead><tbody><tr><td>REPOSITORY</td><td>仓库</td></tr><tr><td>TAG</td><td>镜像标签</td></tr><tr><td>IMAGE ID</td><td>镜像ID</td></tr><tr><td>CREATED</td><td>创建时间</td></tr><tr><td>SIZE</td><td>容量大小</td></tr></tbody></table><div class=tbl-end style=height:10px></div><ol start=5><li>如果可以联网的情况下，可以从仓库拉取镜像。如果不联网可以上传镜像并导入。</li></ol><pre><code>docker pull hello-world:lastest
</code></pre><ul><li>正常会出现以下消息</li></ul><pre><code>Using default tag: latest
latest: Pulling from library/hello-world
719385e32844: Pull complete 
Digest: sha256:dcba6daec718f547568c562956fa47e1b03673dd010fe6ee58ca806767031d1c
Status: Downloaded newer image for hello-world:latest
docker.io/library/hello-world:latest
</code></pre><ul><li>如果无法联网，可以上传<code>hello-world.tar</code>到 root 用户工作目录，并使用以下命令导入镜像。</li></ul><pre><code>docker load &lt; ~/hello-world.tar 
</code></pre><ol start=6><li>查看所有镜像。注意观察<code>hello-world</code>镜像的ID。</li></ol><pre><code>docker images -a
</code></pre><ol start=7><li>引用<code>hello-world</code>镜像新建一个容器，观察输出结果。注意替换<code>镜像ID</code>。</li></ol><pre><code>docker run 镜像ID
</code></pre><ul><li>如果输出以下内容则表示</li></ul><pre><code>Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre><ol start=8><li>列出正在运行的容器。</li></ol><pre><code>docker ps
</code></pre><ol start=9><li>列出所有的容器，包括正在运行的和已经停止的。</li></ol><blockquote><p>docker ps -h查看帮助，然后执行正确的命令，列出所有的容器。
标记出在那里看容器的当前状态，比如正在运行、停止等状态。</p></blockquote><ol start=10><li>再次启动第8步运行的“hello-world”容器。</li></ol><pre><code>docker start 容器ID或容器名称
</code></pre><ol start=11><li>输出容器运行后打印的信息。</li></ol><pre><code>docker logs 容器ID或容器名称
</code></pre><ol start=12><li>删除上面运行的容器。</li></ol><blockquote><p>提示：首先明确删除容器的是那个命令，然后理解删除指定容器可以通过容器ID和容器名称来删除，具体实现同学们自主尝试。</p></blockquote><ol start=13><li>上面一步删除了容器<code>hello-world</code>，我们再尝试再运行一个hello-world，并摘图说明在本地容器中那个容器是你在第13步运行起来的容器，这个容器的当前状态是什么状态，为什么是这个状态。</li></ol><h2 id=任务62-导入-docker-tomcat-镜像并启动>任务6.2 导入 Docker Tomcat 镜像并启动</h2><h2 id=任务目的-1>【任务目的】</h2><ul><li>掌握 Docker 镜像的导入</li><li>掌握 Docker 容器</li></ul><h2 id=任务环境-1>【任务环境】</h2><ul><li>VirtualBox</li><li>FinalShell</li></ul><h2 id=任务资源-1>【任务资源】</h2><ul><li>tomcat.tar 该文件是一个 Docker 镜像，镜像包含一个 Tomcat（HTTP 服务器）应用。</li></ul><h2 id=任务步骤-1>【任务步骤】</h2><ol><li>使用root 用户登录<code>docker</code>虚拟机。</li></ol><pre><code>su
</code></pre><ol start=2><li>上传<code>tomcat.tar</code>到 /root 目录</li></ol><pre><code>cd ~
rz
</code></pre><ol start=3><li>导入 Docker 镜像</li></ol><pre><code>cd /root
docker load -i tomcat.tar
</code></pre><ul><li>执行完会显示</li></ul><pre><code>Loaded image: docker.io/tomcat:latest
</code></pre><ol start=4><li>查看所有 Docker 镜像</li></ol><pre><code>docker image ls
</code></pre><ul><li>正常应该能够看到类似以下内容：</li></ul><pre><code>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
docker.io/tomcat    latest              b0e0b0a92cf9        2 days ago          680 MB
</code></pre><ol start=5><li><p>接下来我们将创建一个网页，并让 Docker 的 Tomcat 镜像运行在容器内，并发布该网页到 Tomcat 服务器上。</p></li><li><p>创建一个存放网页的目录</p></li></ol><pre><code>mkdir -p /root/test
</code></pre><ol start=7><li>创建一个静态的网页，请注意替换为你的学号。</li></ol><pre><code>cd /root/test
vi index.html
</code></pre><ul><li>输入以下内容</li></ul><pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;meta charset=&quot;UTF-8&quot;&gt;
		&lt;title&gt;Hello Docker&lt;/title&gt;
	&lt;/head&gt;
	&lt;body&gt;
	 Hello Docker -by 请替换为你的个人学号
	&lt;/body&gt;
&lt;/html&gt;
</code></pre><ol start=8><li>启动 Docker 的容器，并把容器 8080 端口映射到本机的 8080 端口，本地<code>/root/test</code>映射到容器的<code>/usr/local/tomcat/webapps/test</code>。</li></ol><pre><code>docker run -d -p 8080:8080 -v /root/test:/usr/local/tomcat/webapps/test tomcat
</code></pre><ol start=9><li><p>浏览器访问<a href=http://10.0.0.70:8080/test/index.html>http://10.0.0.70:8080/test/index.html</a>，是否能够看到以上编写的网页信息。</p></li><li><p>查看 Docker 运行的容器，留意容器的ID（CONTAINER ID）。</p></li></ol><pre><code>docker ps
</code></pre><ul><li>正常应该能够看到类似以下信息</li></ul><pre><code>CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS                    NAMES
be84ccbed333        tomcat              &quot;catalina.sh run&quot;   31 minutes ago      Up 31 minutes       0.0.0.0:8080-&gt;8080/tcp   hardcore_thompson
</code></pre><ol start=11><li>终止 Tomcat 容器的运行。</li></ol><pre><code>docker stop &lt;替换为上面看到的CONTAINER ID&gt;
</code></pre><blockquote><p>注：以上命令的CONTAINER ID可以只输入前面几个字母。</p></blockquote><ol start=12><li>再次查看 Docker 运行的容器，查看是否已经没有任何容器在运行。</li></ol><pre><code>docker ps
</code></pre><h2 id=常见问题>【常见问题】</h2><h3 id=1-访问-tomcat-的页面出现-404-错误>1. 访问 Tomcat 的页面出现 404 错误。</h3><ul><li>这有可能是因为SELinux 没有关闭导致的本地目录无法映射到容器内目录。执行以下命令可以临时关闭 SELinux。</li></ul><pre><code>setenforce 0
</code></pre><ul><li>要永久关闭 SELinux可以执行以下语句。</li></ul><pre><code>vi /etc/selinux/config
</code></pre><ul><li>把<code>SELINUX</code>设置为<code>disabled</code></li></ul><pre><code>SELINUX=disabled
</code></pre><h3 id=2-无法拉取-docker-镜像>2. 无法拉取 Docker 镜像</h3><p>解决办法：</p><ul><li>（1）请检查网络连接是否正常。</li><li>（2）参考<a href=../cloud-data-center-05/#%E4%BB%BB%E5%8A%A153-%E5%88%87%E6%8D%A2-docker-%E4%BB%93%E5%BA%93%E9%95%9C%E5%83%8F%E6%BA%90>任务5.3</a>，通过修改 Docker 镜像源为国内的源来提高镜像拉取速度。</li></ul><h3 id=3-容器无法启动>3. 容器无法启动</h3><p>解决办法：请检查容器的配置和依赖项，并确保所需的端口没有被占用。</p><h3 id=4-容器无法访问外部网络>4. 容器无法访问外部网络</h3><p>解决办法：请检查容器的网络配置，确保容器与宿主机在同一网络中，并且网络配置正确。</p><h2 id=常用命令>【常用命令】</h2><h3 id=docker-查看镜像>Docker 查看镜像</h3><pre><code>docker images -a
</code></pre><h3 id=docker-保存镜像为文件>Docker 保存镜像为文件</h3><pre><code>docker save 镜像ID &gt; 镜像文件路径
</code></pre><ul><li>例子</li></ul><pre><code>[root@docker ~]# docker images
REPOSITORY    TAG       IMAGE ID       CREATED         SIZE
hello-world   latest    9c7a54a9a43c   3 months ago    13.3kB
[root@docker ~]# docker save 9c7a &gt; ~/hello-world.tar
</code></pre><h3 id=docker-加载镜像文件>Docker 加载镜像文件</h3><pre><code>docker load &lt; 文件路径
</code></pre><ul><li>例子</li></ul><pre><code>[root@docker ~]# docker load &lt; ~/hello-world.tar 
01bb4fce3eb1: Loading layer [==================================================&gt;]  14.85kB/14.85kB
Loaded image ID: sha256:9c7a54a9a43cca047013b82af109fe963fde787f63f9e016fdc3384500c2823d
[root@docker ~]# docker images -a
REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
&lt;none&gt;       &lt;none&gt;    9c7a54a9a43c   3 months ago   13.3kB
</code></pre><h3 id=docker-查看容器>Docker 查看容器</h3><pre><code>docker ps -a
</code></pre><h3 id=docker-创建一个新的容器>Docker 创建一个新的容器</h3><pre><code>docker run 镜像ID
</code></pre><ul><li>例子</li></ul><pre><code>[root@docker ~]# docker images -a
REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
&lt;none&gt;       &lt;none&gt;    9c7a54a9a43c   3 months ago   13.3kB
[root@docker ~]# docker run 9c7a

Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.
    (amd64)
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/

[root@docker ~]# docker ps -a
CONTAINER ID   IMAGE     COMMAND    CREATED         STATUS                     PORTS     NAMES
37b44906db25   9c7a      &quot;/hello&quot;   7 seconds ago   Exited (0) 6 seconds ago             lucid_montalcini
</code></pre><h3 id=docker-启动容器>Docker 启动容器</h3><pre><code>docker start 容器ID
</code></pre><h3 id=docker-停止容器>Docker 停止容器</h3><pre><code>docker stop 容器ID
</code></pre><h3 id=docker-移除容器>Docker 移除容器</h3><pre><code>docker container rm 容器ID
</code></pre><ul><li>例子</li></ul><pre><code>[root@docker ~]# docker ps -a
CONTAINER ID   IMAGE         COMMAND    CREATED          STATUS                      PORTS     NAMES
8f2e44aed9ba   hello-world   &quot;/hello&quot;   14 minutes ago   Exited (0) 14 minutes ago             recursing_matsumoto
[root@docker ~]# docker container rm 8f2e
8f2e
[root@docker ~]# docker ps -a
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
</code></pre></div><div class=my-4><a href=/tags/%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#数据中心</a>
<a href=/tags/%E4%BA%91%E8%AE%A1%E7%AE%97/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#云计算</a>
<a href=/tags/%E5%AE%B9%E5%99%A8/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 mr-2 hover:text-eureka">#容器</a></div><div class=py-2><div class="flex flex-col md:flex-row items-center my-8"><a href=/authors/qzm/ class="w-24 h-24 md:mr-4"><i class="fas fa-user-circle fa-6x"></i></a><div class="w-full md:w-auto mt-4 md:mt-0"><a href=/authors/qzm/ class="block font-bold text-lg pb-1 mb-2 border-b">全老师</a>
<span class="block pb-2"></span></div></div><div class="flex flex-col md:flex-row items-center my-8"><a href=/authors/heis/ class="w-24 h-24 md:mr-4"><img src=/static/img/authors/heis.png class="w-full bg-primary-bg rounded-full" alt=Avatar></a><div class="w-full md:w-auto mt-4 md:mt-0"><a href=/authors/heis/ class="block font-bold text-lg pb-1 mb-2 border-b">黄老师</a>
<span class="block pb-2"></span><a href=mailto:heishuangzy@qq.com class=mr-1><i class="fas fa-envelope"></i></a><a href=https://gitee.com/heis/ class=mr-1><i class="fab fa-git"></i></a><a href=http://heis.gitee.io/ class=mr-1><i class="fas fa-blog"></i></a></div></div></div><div id=btmQrcode></div><p style=text-align:center>扫码或长按识别访问</p><script src=/static/js/qrcode.min.js></script><script type=text/javascript>function getURL(){var url=window.location.href;if(window.location.hash!=""){url=url.substring(0,url.indexOf("#"));}
return url;}
new QRCode(document.getElementById("btmQrcode"),{text:getURL(),width:192,height:192,colorDark:"#000000",colorLight:"#ffffff",correctLevel:QRCode.CorrectLevel.H});</script><div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t"><div id=presec><span class="block font-bold">上一页</span>
<a href=/docs/cloud-data-center-v2/cloud-data-center-05/ class=block>Part 5 - 容器部署和管理</a></div><div id=nextsec class="md:text-right mt-4 md:mt-0"><span class="block font-bold">下一页</span>
<a href=/docs/cloud-data-center-v2/cloud-data-center-07/ class=block>Part 7 - 容器的应用2</a></div></div></div><div class="hidden lg:block lg:w-1/4"><div class="sticky top-16 z-10 hidden lg:block px-6 py-4 bg-secondary-bg pt-16 -mt-16"><span class="text-lg font-semibold">本页内容</span></div><div class="sticky-toc hidden lg:block px-6 pb-6 pt-10 -mt-10 border-l"><nav id=TableOfContents><ul><li><a href=#版本>【版本】</a></li><li><a href=#任务61-导入-docker-hello-world-镜像并启动>任务6.1 导入 Docker hello-world 镜像并启动</a></li><li><a href=#任务目的>【任务目的】</a></li><li><a href=#任务环境>【任务环境】</a></li><li><a href=#任务资源>【任务资源】</a></li><li><a href=#任务说明>【任务说明】</a></li><li><a href=#任务步骤>【任务步骤】</a></li><li><a href=#任务62-导入-docker-tomcat-镜像并启动>任务6.2 导入 Docker Tomcat 镜像并启动</a></li><li><a href=#任务目的-1>【任务目的】</a></li><li><a href=#任务环境-1>【任务环境】</a></li><li><a href=#任务资源-1>【任务资源】</a></li><li><a href=#任务步骤-1>【任务步骤】</a></li><li><a href=#常见问题>【常见问题】</a><ul><li><a href=#1-访问-tomcat-的页面出现-404-错误>1. 访问 Tomcat 的页面出现 404 错误。</a></li><li><a href=#2-无法拉取-docker-镜像>2. 无法拉取 Docker 镜像</a></li><li><a href=#3-容器无法启动>3. 容器无法启动</a></li><li><a href=#4-容器无法访问外部网络>4. 容器无法访问外部网络</a></li></ul></li><li><a href=#常用命令>【常用命令】</a><ul><li><a href=#docker-查看镜像>Docker 查看镜像</a></li><li><a href=#docker-保存镜像为文件>Docker 保存镜像为文件</a></li><li><a href=#docker-加载镜像文件>Docker 加载镜像文件</a></li><li><a href=#docker-查看容器>Docker 查看容器</a></li><li><a href=#docker-创建一个新的容器>Docker 创建一个新的容器</a></li><li><a href=#docker-启动容器>Docker 启动容器</a></li><li><a href=#docker-停止容器>Docker 停止容器</a></li><li><a href=#docker-移除容器>Docker 移除容器</a></li></ul></li></ul></nav></div><script>window.addEventListener('DOMContentLoaded',()=>{enableStickyToc();});</script></div></div></div></div></div><div id=outerdiv><div id=innerdiv><img id=bigimg src></div></div><div id=popOuterDiv><div id=popDiv style=display:none><div class=close><span onclick="$('#popDiv').hide();"></span></div><p id=popCtn></p></div></div><div id=nav_top_icon style=display:none></div><div id=list_note_icon></div><script>$(function(){var scrollTop=$(window).scrollTop();if(scrollTop>0){$("#nav_top_icon").show(200);}
window.onscroll=function(){scrollTop=$(window).scrollTop();if(scrollTop==0){$("#nav_top_icon").hide(200);}else{$("#nav_top_icon").show(200);}}
$("#nav_top_icon").click(function(){$("body,html").animate({scrollTop:0},500);});$("#list_note_icon").click(function(){$("#popOuterDiv").toggle();$("#popDiv").slideToggle();$("#popCtn").html($("#TableOfContents").html());})
$("#popOuterDiv").click(function(){$("#popOuterDiv").hide();$("#popDiv").slideUp();})});document.addEventListener('DOMContentLoaded',()=>{hljs.highlightAll();hljs.initLineNumbersOnLoad({singleLine:true});changeSidebarHeight();switchDocToc();$("img").css("cursor:pointer")
$("img").click(function(){var _this=$(this);imgShow("#outerdiv","#innerdiv","#bigimg",_this);});$("ol").each(function(index){if(/\d{1,4}/.test($(this).attr("start"))){let idx=parseInt($(this).attr("start"));let lis=$(this).find("li");if(lis.length>0){lis.each(function(index){$(this).attr("id","step"+(idx+index));});}else{$(this).attr("id","step"+idx);}}});});</script><script src=/static/js/clipboard.min.js></script><script src=/static/js/codecopy.bundle.js?997></script></div></div></main><footer class=pl-scrollbar><div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text"></p></div></div></footer></body></html>